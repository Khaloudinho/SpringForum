<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<body>
<section class="section" layout:fragment="content">
  <div class="container">
    <a th:href="@{/project/{id}(id=${topic.project.id})}">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 16" class="forum-back-arrow">
        <path d="M6 3L0 8l6 5v-3h4V6H6z"></path>
      </svg>
    </a>

    <h1 class="title" th:text="${topic.title}"></h1>
    <h2 class="subtitle"><span th:text="#{project}"></span> : <span
        th:text="${topic.project.name}"></span></h2>

    <a class="button is-link" th:text="#{post.new}"
       th:href="@{/topic/{id}/post/create(id=${topic.id})}"></a>
    <a class="button is-link" th:text="#{post.editopic}"
       th:href="@{'/topic/'+${topic.id}+'/edittopic'}"></a>
    <a id="followBtn" class="button is-link" th:text="#{post.follow}" onclick="follow()"></a>
    <a id="unfollowBtn" class="button is-link" th:text="#{post.unfollow}" onclick="unfollow()" style="display:none;" ></a>

    <article class="message" th:each="post : ${posts}">
      <div class="message-header">
        <strong class="is-pulled-left" th:text="${post.createdBy.username}"></strong>
        <span class="is-pulled-right" th:text="${post.createdAt}"></span>
      </div>
      <div th:text="${post.content}" class="message-body"></div>
    </article>

  </div>
</section>
</body>
</html>
